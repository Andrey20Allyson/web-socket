import http = require('http');

type ServerStartListener = (port: number, hostname: string) => void;

export interface ResponseDataI {
    data: string;
    cached: boolean;
}

export interface ServerI {
    start(onStart?: ServerStartListener, port?: number, hostname?: string): void;
    setRootDir(newDir: string): void;
    sendData(path: string, res: http.ServerResponse): void;
    getData(path: string): Promise<ResponseDataI>
};

export function createServer(requestListener: http.RequestListener): ServerI;

export interface ModuleExportsI {
    createServer(requestListener: http.RequestListener): ServerI;
}